# Deploying Health Platform

Generated by Zhuang

## Overview
This folder contains containerization and Kubernetes manifests for a split frontend (React + Nginx) and backend (Flask + Gunicorn).

## Environment
Backend reads configuration from environment variables (see `src/config.py`):
- DATABASE_URL: SQLAlchemy URL (e.g., postgresql+psycopg2://user:pass@host:5432/db)
- JWT_SECRET, JWT_ACCESS_MINUTES, JWT_REFRESH_DAYS
- CORS_ORIGINS: comma-separated list
 - DB_CREATE_ON_MISSING: "1" to auto-create when required tables are missing (default in k8s manifests)
 - DB_AUTO_CREATE: "1" to always create tables on startup (off by default)

Frontend Nginx proxies `/api/` to backend using API_URL.

## Docker Compose (local)
- backend at http://localhost:5000
- frontend at http://localhost:8080

Override DATABASE_URL via environment or `.env` file (compose automatically loads it when present).

## Kubernetes
- Namespace: health-platform
- Backend config and secrets: `backend-config`, `backend-secrets`, `db-conn`
- Images default to GHCR paths: `ghcr.io/devnextx/health-platform-*`
- Provide TLS secret `health-platform-tls` or remove TLS section for HTTP-only dev.

## GitHub Actions
`/.github/workflows/ci.yml` runs tests and builds/pushes images to GHCR.

