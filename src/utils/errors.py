"""
Error handling utilities.
Generated by Copilot
"""
from typing import Any, Dict, Optional


def error(code: str, message: str, details: Any = None, trace_id: Optional[str] = None):
    """Create standardized error response"""
    body: Dict[str, Any] = {"code": code, "message": message}
    if details is not None:
        if isinstance(details, dict):
            body["error_data"] = details
        else:
            body["details"] = details
    if trace_id:
        body["traceId"] = trace_id
    return body


def ok(data: Any = None, **kwargs):
    """Create standardized success response"""
    payload = {"data": data} if data is not None else {}
    payload.update(kwargs)
    return payload