<!DOCTYPE html>
<html>
<head>
    <title>Test InputNumber Behavior</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/antd@5.8.6/dist/antd.min.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/antd@5.8.6/dist/reset.css" />
    <style>
        body { font-family: Arial, sans-serif; margin: 20px; }
        .test-container { margin: 20px 0; padding: 20px; border: 1px solid #ddd; border-radius: 5px; }
        .input-test { margin: 10px 0; }
        .result { margin: 10px 0; padding: 10px; background-color: #f5f5f5; border-radius: 3px; }
    </style>
</head>
<body>
    <h1>InputNumber 行为测试</h1>
    <div id="root"></div>

    <script type="text/babel">
        const { useState } = React;
        const { InputNumber, Form, Button, Space, Typography } = antd;
        const { Text } = Typography;

        function TestApp() {
            const [values, setValues] = useState({
                systolic: null,
                diastolic: null,
                heartRate: null
            });

            const [form] = Form.useForm();

            const handleValuesChange = (changedValues, allValues) => {
                console.log('Values changed:', changedValues, allValues);
                setValues(allValues);
            };

            return (
                <div>
                    <div className="test-container">
                        <h3>测试 1: 基本输入功能</h3>
                        <p>测试是否可以正常输入数字，包括越界值</p>

                        <Form
                            form={form}
                            layout="vertical"
                            onValuesChange={handleValuesChange}
                        >
                            <div className="input-test">
                                <Form.Item
                                    name="systolic"
                                    label="收缩压 (测试输入: 20, 120, 300)"
                                >
                                    <InputNumber
                                        placeholder="输入收缩压"
                                        style={{ width: '100%' }}
                                        controls={false}
                                        keyboard
                                        stringMode={false}
                                    />
                                </Form.Item>
                            </div>

                            <div className="input-test">
                                <Form.Item
                                    name="diastolic"
                                    label="舒张压 (测试输入: 15, 80, 280)"
                                >
                                    <InputNumber
                                        placeholder="输入舒张压"
                                        style={{ width: '100%' }}
                                        controls={false}
                                        keyboard
                                        stringMode={false}
                                    />
                                </Form.Item>
                            </div>

                            <div className="input-test">
                                <Form.Item
                                    name="heartRate"
                                    label="心率 (测试输入: 10, 72, 200)"
                                >
                                    <InputNumber
                                        placeholder="输入心率"
                                        style={{ width: '100%' }}
                                        controls={false}
                                        keyboard
                                        stringMode={false}
                                    />
                                </Form.Item>
                            </div>
                        </Form>

                        <div className="result">
                            <Text strong>当前值:</Text><br/>
                            收缩压: {values.systolic !== null ? values.systolic : '未输入'}<br/>
                            舒张压: {values.diastolic !== null ? values.diastolic : '未输入'}<br/>
                            心率: {values.heartRate !== null ? values.heartRate : '未输入'}
                        </div>
                    </div>

                    <div className="test-container">
                        <h3>测试 2: 验证不自动修正行为</h3>
                        <p><strong>期望:</strong> 输入越界值时应该保留原始输入，不自动修正</p>
                        <ul>
                            <li>输入 20 → 应显示 20 (不是 30)</li>
                            <li>输入 300 → 应显示 300 (不是 250)</li>
                            <li>输入 200 (心率) → 应显示 200 (不是 150)</li>
                        </ul>
                    </div>

                    <div className="test-container">
                        <h3>测试说明</h3>
                        <p>1. 尝试在上面的输入框中输入各种值</p>
                        <p>2. 观察"当前值"是否正确显示输入的值</p>
                        <p>3. 特别测试越界值是否被自动修正</p>
                        <p>4. 如果输入框无响应，可能是组件配置问题</p>
                    </div>
                </div>
            );
        }

        ReactDOM.render(<TestApp />, document.getElementById('root'));
    </script>

    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
</body>
</html>